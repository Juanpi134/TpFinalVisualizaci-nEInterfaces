<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta viewport="width=device-width, initial-scale=1.0" />
    <title>Ingreso de Socio | Vida Med</title>
    <link rel="stylesheet" href="css/login.css" />
    <script src="js/usuarios.js"></script>
  </head>

  <body>
    <div class="vm-login-container">
      <a href="index.html">
        <img src="img/logo-opcion1.png" alt="Vida Med" class="vm-login-logo" />
      </a>

      <h2 class="vm-login-title">Ingresar a tu cuenta</h2>

      <form id="loginForm" class="vm-login-form">
        <label for="email">Correo electrónico</label>
        <input type="email" id="email" required />

        <label for="password">Contraseña</label>
        <input type="password" id="password" required />

        <button type="submit" class="vm-btn vm-btn-primary">Ingresar</button>
      </form>

      <p class="vm-login-footer">
        ¿No tenés cuenta?
        <a href="afiliados.html" class="vm-link">Afiliate aquí</a>
      </p>
    </div>

    <!-- Tu script original, intacto -->
    <script>
      const form = document.getElementById("loginForm");

      form.addEventListener("submit", function (e) {
        e.preventDefault();

        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;

        const usuariosGuardados =
          JSON.parse(localStorage.getItem("usuariosRegistrados")) || [];
        const usuario = usuariosGuardados.find(
          (u) => u.email === email && u.password === password
        );

        if (usuario) {
          localStorage.setItem("socioActivo", JSON.stringify(usuario));
          alert(`Bienvenido, ${usuario.nombre}`);
          window.location.href = "socioHome.html";
        } else {
          alert("Usuario o contraseña incorrectos");
        }
      });
    </script>
  </body>
</html>

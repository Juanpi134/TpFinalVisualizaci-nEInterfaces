<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Área de Socios | Vida Med</title>
    <link rel="stylesheet" href="css/estilos.css" />
    <link rel="stylesheet" href="css/socios.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header class="header">
      <div class="logo">
        <a href="index.html"
          ><img src="img/logo-opcion1.png" alt="Logo Vida Med"
        /></a>
      </div>
      <nav class="menu">
        <ul>
          <li><a href="index.html">Inicio</a></li>
          <li><a href="planes.html">Planes</a></li>
          <li><a href="prestadores.html">Prestadores</a></li>
          <li><a href="contacto.html">Contacto</a></li>
        </ul>
      </nav>
    </header>

    <main class="login-section">
      <div class="login-card">
        <h2>Área de Socios</h2>
        <p>Ingresá con tu cuenta Vida Med</p>

        <form id="loginForm" class="login-form">
          <label for="email">Email, usuario o DNI</label>
          <input
            type="text"
            id="email"
            placeholder="ejemplo@correo.com"
            required
          />

          <label for="password">Contraseña</label>
          <input
            type="password"
            id="password"
            placeholder="********"
            required
          />

          <button type="submit" class="btn-login">Ingresar</button>

          <div class="extras">
            <a href="#">¿Olvidaste tu contraseña?</a>
            <a href="afiliacion.html" class="registro"
              >¿Aún no sos socio? Afiliate ahora</a
            >
          </div>
        </form>
      </div>
    </main>

    <footer>
      <p>© 2025 Vida Med. Todos los derechos reservados.</p>
    </footer>

    <script src="js/login.js"></script>
    <script>
      const form = document.getElementById("loginForm");

      form.addEventListener("submit", function (e) {
        e.preventDefault();

        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;

        const usuariosGuardados =
          JSON.parse(localStorage.getItem("usuariosRegistrados")) || [];
        const usuario = usuariosGuardados.find(
          (u) => u.email === email && u.password === password
        );

        if (usuario) {
          localStorage.setItem("socioActivo", JSON.stringify(usuario));
          alert(`Bienvenido, ${usuario.nombre}`);
          window.location.href = "socioHome.html";
        } else {
          alert("Usuario o contraseña incorrectos");
        }
      });
    </script>
  </body>
</html>
